(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__EHnFN",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__b3zt0"}},12:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1phDG",Modal:"Modal_Modal__LOYyl"}},15:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1nvyg"}},16:function(e,t,a){e.exports={App:"App_App__cUKLY"}},17:function(e,t,a){e.exports={Button:"Button_Button__1leFh"}},21:function(e,t,a){e.exports={loader:"Loader_loader__3ZP38"}},28:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1RLC0",SearchForm:"Searchbar_SearchForm__38ooz",SearchFormButton:"Searchbar_SearchFormButton__2xR6t",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__ElAUR",SearchFormInput:"Searchbar_SearchFormInput__1WbYs"}},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),i=(a(28),a(10)),s=a.n(i),u=a(13),l=a(14),m=a(3),b=a(8),h=(a(30),a(4)),j=a.n(h),d=a(1);var f=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(m.a)(a,2),c=r[0],o=r[1];return Object(d.jsx)("header",{className:j.a.Searchbar,children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):b.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438.")},className:j.a.SearchForm,children:[Object(d.jsx)("button",{type:"submit",className:j.a.SearchFormButton,children:Object(d.jsx)("span",{className:j.a.SearchFormButtonLabel,children:"Search"})}),Object(d.jsx)("input",{className:j.a.SearchFormInput,type:"text",placeholder:"Search images and photos",name:"imgName",value:c,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})},p=a(11),g=a.n(p),O=function(e){var t=e.src,a=e.largeImg;return Object(d.jsx)("li",{className:g.a.ImageGalleryItem,children:Object(d.jsx)("img",{src:t,alt:"",className:g.a.ImageGalleryItemImage,"data-img":a,height:"240",width:"320"})})},_=a(15),x=a.n(_),y=function(e){var t=e.images,a=e.onImgClick;return Object(d.jsx)("ul",{className:x.a.ImageGallery,onClick:a,children:t.map((function(e){var t=e.id,a=e.webformatURL,n=e.largeImageURL;return Object(d.jsx)(O,{src:a,largeImg:n},t)}))})},I=a(16),v=a.n(I),S=a(2),w=a.n(S);function k(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("23089090-b881069149d08b76d7d8b0f8f","&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("Not found any pictures with name ".concat(e)))}))}k.propTypes={searchQuery:w.a.string.isRequired,page:w.a.string.isRequired};var F={fetchImg:k},N=a(17),B=a.n(N),C=function(e){var t=e.onBtnClick,a=e.text;return Object(d.jsx)("button",{className:B.a.Button,type:"button",onClick:t,children:a})},G=a(12),L=a.n(G);function E(e){var t=e.onCloseModal,a=e.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()};return Object(d.jsx)("div",{className:L.a.Overlay,onClick:t,children:Object(d.jsx)("div",{className:L.a.Modal,children:a})})}var M=a(18),R=a(19),A=a(23),U=a(22),q=(a(34),a(20)),z=a.n(q),P=a(21),T=a.n(P),Y=function(e){Object(A.a)(a,e);var t=Object(U.a)(a);function a(){return Object(M.a)(this,a),t.apply(this,arguments)}return Object(R.a)(a,[{key:"render",value:function(){return Object(d.jsx)("div",{className:T.a.loader,children:Object(d.jsx)(z.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})})}}]),a}(r.a.Component);var D=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),o=Object(m.a)(c,2),i=o[0],h=o[1],j=Object(n.useState)([]),p=Object(m.a)(j,2),g=p[0],O=p[1],_=Object(n.useState)(!1),x=Object(m.a)(_,2),I=x[0],S=x[1],w=Object(n.useState)(""),k=Object(m.a)(w,2),N=k[0],B=k[1],G=Object(n.useState)(!1),L=Object(m.a)(G,2),M=L[0],R=L[1];Object(n.useEffect)((function(){if(a){var e=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(),e.abrupt("return",F.fetchImg(a,i).then((function(e){return O((function(t){return[].concat(Object(u.a)(t),Object(u.a)(e.hits))}))})).finally((function(){return A()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[a,i]);var A=function(){S((function(e){return!e}))},U=function(){R((function(e){return!e}))};return Object(d.jsxs)("div",{className:v.a.App,children:[Object(d.jsx)(f,{onSubmit:function(e){r(e),h(1),O([])}}),Object(d.jsx)(y,{images:g,onImgClick:function(e){"IMG"===e.target.nodeName&&(B(e.target.dataset.img),U())}}),I&&Object(d.jsx)(Y,{}),g.length>0&&!I&&Object(d.jsx)(C,{onBtnClick:function(){h((function(e){return e+1})),a&&(A(),setTimeout((function(){window.scrollBy({top:document.documentElement.clientHeight-160,behavior:"smooth"})}),800),A())},text:"Load more"}),Object(d.jsx)(b.a,{autoClose:3e3}),M&&Object(d.jsx)(E,{onCloseModal:U,children:Object(d.jsx)("img",{src:N,alt:"Modal"})})]})};o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(D,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.c002e945.chunk.js.map